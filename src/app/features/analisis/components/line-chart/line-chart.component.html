<div class="chart-card">
  <div class="chart-header">
    <h3>
      <i class="pi pi-chart-line"></i>
      {{ getTitle() }}
    </h3>
    <button class="btn-refresh" (click)="refreshChart()" [title]="'actualizar' | translate">
      <i class="pi pi-refresh"></i>
    </button>
  </div>

  <div class="chart-container">
    <canvas #chartCanvas width="400" height="250"></canvas>
  </div>

  <div class="chart-legend">
    <div class="legend-item" *ngIf="chartType === 'comparative'">
      <span class="legend-color" style="background-color: #2d7a7a;"></span>
      <span class="legend-label">2024</span>
    </div>
    <div class="legend-item" *ngIf="chartType === 'comparative'">
      <span class="legend-color" style="background-color: #8bb5b5;"></span>
      <span class="legend-label">2023</span>
    </div>
    <div class="legend-item" *ngIf="chartType === 'cashflow'">
      <span class="legend-color" style="background-color: #2d7a7a;"></span>
      <span class="legend-label">{{ 'crecimiento' | translate }}</span>
    </div>
    <div class="legend-item" *ngIf="chartType === 'cashflow'">
      <span class="legend-color" style="background-color: #d32f2f;"></span>
      <span class="legend-label">{{ 'error' | translate }}</span>
    </div>
  </div>
</div>
